{% extends 'library/base.html' %}

{% block content %}
    <div class="row">
        <div class="col">
            <h1 class="mb-5">Library status</h1>
        </div>
    </div>
    <div class="row">
        <div
            class="col border-top border-bottom border-info border-2 mb-2 pt-3"
            style="margin-left: 1rem; padding-left: 0;"
        >
          <p>
              <strong>Books available for loan:</strong>
              <span class="badge bg-primary rounded-pill">
                  {{ num_available }}
              </span>
          </p>
        </div>
        <div
            class="col border-top border-bottom border-info border-2 mb-2 pt-3"
            style="margin-left: 1rem; padding-left: 0;"
        >
            {% if num_available > 0 %}
              <ul>
                  {% for book in is_available %}
                      <li class="{% if book.is_overdue %}text-danger{% endif %}">
                        <a href="{% url 'book_detail' book.book.pk %}">
                            {{book.book.title}}
                        </a>
                        ({{ book.due_back }})
                      </li>
                  {% endfor %}
              {% endif %}
            </ul>
        </div>
    </div>
    <div class="row">
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
          <p>
              <strong>Books on loan:</strong>
              <span class="badge bg-primary rounded-pill">
                  {{ num_on_loan }}
              </span>
          </p>
        </div>
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
            {% if num_on_loan > 0 %}
              <ul>
                  {% for book in is_on_loan %}
                      <li class="{% if book.is_overdue %}text-danger{% endif %}">
                        <a href="{% url 'book_detail' book.book.pk %}">
                            {{book.book.title}}
                        </a>
                        ({{ book.due_back }})
                      </li>
                  {% endfor %}
              </ul>
            {%  endif %}
        </div>
    </div>
    <div class="row">
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
            <p>
                <strong>Reserved books:</strong>
                <span class="badge bg-primary rounded-pill">
                  {{ num_reserved }}
                </span>
            </p>
        </div>
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
              {% if num_reserved > 0 %}
                  <ul>
                      {% for book in is_reserved %}
                          <li class="{% if book.is_overdue %}text-danger{% endif %}">
                            <a href="{% url 'book_detail' book.book.pk %}">
                                {{book.book.title}}
                            </a>
                            ({{ book.due_back }})
                          </li>
                      {% endfor %}
                    </ul>
              {% endif %}
        </div>
    </div>
    <div class="row">
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
            <p>
              <strong>Books on maintenance:</strong>
              <span class="badge bg-primary rounded-pill">
                  {{ num_on_maintenance }}
              </span>
          </p>
        </div>
        <div
            class="col border-bottom border-info border-2 mb-2 pt-2"
            style="margin-left: 1rem; padding-left: 0;"
        >
            {% if num_on_maintenance > 0 %}
                  <ul>
                      {% for book in is_on_maintenance %}
                          <li class="{% if book.is_overdue %}text-danger{% endif %}">
                            <a href="{% url 'book_detail' book.book.pk %}">
                                {{book.book.title}}
                            </a>
                            ({{ book.due_back }})
                          </li>
                      {% endfor %}
                  </ul>
            {% endif %}
        </div>
    </div>
{% endblock %}